## Настройка "VS Code + GCC + JLink" для работы с STM32 для Windows 10
>
Visual Studio Code является легковесным функциональным редактором кода и текста, возможности которого расширяются с помощью плагинов. В связке с открытым GCC и плагином Cortex-Debug редактор превращается в мощный инструмент разработки встроенного ПО для практически любых микроконтроллеров. Описанный далее метод позволяет работать с любыми микроконтроллерами на ядре ARM Cortex-M и многими другими.

![Заголовок](pic/1.png)

### Шаг №1
[Необходимо скачать и установить собственно сам редактор Visual Studio Code](https://code.visualstudio.com/)
>
![Установка VSC](pic/2.png)

### Шаг №2
Теперь необходимо установить два плагина для расширения возможностей VS Code:

* **C/C++**
*  **Cortex-Debug**

Для установки перейдите в раздел *Extensions* или комбинация *Ctrl+Shift+X*, далее в строку поиска вписываете названия плагинов, один одни из самых популярных и будут в начале списка. Жмете на плагин и устанавливаете его. Последовательность установки не важна. Эти 2 плагина минимально необходимый набор, так же вы можете поставить другие расширения для удоства и на работоспособность это никак не повлияет.
>
![Установка плагинов](pic/3.png)

### Шаг №3
[Установить драйвера и утилиты JLink](https://www.segger.com/downloads/jlink/#J-LinkSoftwareAndDocumentationPack)

Устанавливать драйвера от Segger лучше всего в корневую папку, в пути к файлам должны обязательно отсутствовать кириллические символы, так же желательно использовать имена папок без применения пробелов.

Для работы используется отладчик JLink v9.x, однако допускается работа и с другими средствами разработки, например, с фирменными ST-Link и прочими решениями от производителей. Использовать JLink рекомендуется, т.к. он поддерживает большое количество микроконтроллеров, все решения на ARM Cortex-M и при этом не привязан к IDE и инструментам конекретных разработчиков.
>
![Установка JLink](pic/4.png)

### Шаг №4
[Установить toolchain GNU Arm Embedded GCC v10.x](https://github.com/xpack-dev-tools/arm-none-eabi-gcc-xpack/releases)

На момент прочтения версия тулчейна может оказаться более свежей, тогда устанавливаем ее. Установку лучше всего произвести тоже в корневую папку, не допускается использование кириллицы в пути к файла, а также желательно избегать пробелом в именах папок.
>
![Установка toolchain](pic/5.png)

### Шаг №5
[Установить инструмент для сборки Windows Build Tools](https://github.com/xpack-dev-tools/windows-build-tools-xpack/releases)

Устанавливаем самую свежую версию также в корневую папку без кириллицы в именах и в идеале без пробелов.
>
![Установка Windows Build Tools](pic/6.png)

### Шаг №6
Проверяем! После прохождения всех предыдущих шагов у вас на компьютере должен быть установлен редактор *VS Code*, а также инструменты разработки из шагов 3-5. Примерная структура проекта:

* _Диск С_
    * _devs_ 
        * _jlink_
        * _toolchain_
        * _windows-build-tools_

Соответственно пути к этим папкам выглядят так:

* _C:\devs\jlink_
* _C:\devs\toolchain_
* _C:\devs\windows-build-tools_

>
![Установленные файлы](pic/7.png)

Ваши пути и структура папок может отличаться от моей! Важно лишь чтобы в пути к файлам не было кириллицы и в идеале не было проблеов, а также сами пути были короткими. Если важи пути будут отличаться, то дальше при настройке вы просто используете их и все.

### Шаг №7
После установки всех инструментов необходимо прописать в переменные среды пути к нужным папкам. Для этого жмем правой кнопкой по значку *Мой компьюетр* и выбираем *Свойства*. Далее жмем по *Дополнительные параметры системы* и откроется окно *Свойства системы*, где будет меню *Переменные среды...*, нажимаем и видим список переменных. Жмем по переменной *Path* и теперь необходимо прописать пути до следующих папок:
>
![Пути к папкам](pic/8.png)

Путь для VS Code прописывается автоматом при установке редактора, а вот пути до 3-х папок необходимо прописать самостоятельно. Учтите, что тут вы должны прописать свои реальные пути, которые могут отличаться от моих.

**Настройка завершена, теперь вы можете приступить к сборке проекта!**
